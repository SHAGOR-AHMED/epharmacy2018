(function(c){var b=function(){};c.extend(b.prototype,{name:"accordionMenu",options:{mode:"default",display:null,collapseall:false,toggler:"span.level1.parent",content:"ul.level2"},initialize:function(e,d){var d=c.extend({},this.options,d),h=e.find(d.toggler);h.each(function(i){var f=c(this),j=f.next(d.content).wrap("<div>").parent();j.data("height",j.height());f.hasClass("active")||i==d.display?j.show():j.hide().css("height",0);f.bind("click",function(){g(i)})});var g=function(f){var f=c(h.get(f)),i=c([]);f.hasClass("active")&&(i=f,f=c([]));d.collapseall&&(i=h.filter(".active"));switch(d.mode){case"slide":f.next().stop().show().animate({height:f.next().data("height")});i.next().stop().animate({height:0},function(){i.next().hide()});break;default:f.next().show().css("height",f.next().data("height")),i.next().hide().css("height",0)}f.addClass("active").parent().addClass("active");i.removeClass("active").parent().removeClass("active")}}});c.fn[b.prototype.name]=function(){var d=arguments,a=d[0]?d[0]:null;return this.each(function(){var g=c(this);if(b.prototype[a]&&g.data(b.prototype.name)&&a!="initialize"){g.data(b.prototype.name)[a].apply(g.data(b.prototype.name),Array.prototype.slice.call(d,1))}else{if(!a||c.isPlainObject(a)){var e=new b;b.prototype.initialize&&e.initialize.apply(e,c.merge([g],d));g.data(b.prototype.name,e)}else{c.error("Method "+a+" does not exist on jQuery."+b.name)}}})}})(jQuery);